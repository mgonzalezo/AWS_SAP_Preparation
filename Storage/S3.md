# Simple Service Storage - S3

Amazon S3 is a fully managed object based storage that is high available, highly durable, very cost effective, and widely accessible. 

- Objects stored in S3 have a durability of 11 nines (99.999999999%).
- The availability of S3 data objects is currently four nines (99.99%). 
- When looking at availability AWS ensure that the up time of Amazon S3 is 99.99% to enable you to access your stored data. The durability percentage refers to the probability of maintaining your data without it being lost through corruption, degradation of data, or other unknown potential damaging effects. When uploading objects to S3, specific objects are used to manage your data.

## S3 Bucket Types (2025)

Amazon S3 offers three distinct bucket types:

### General Purpose Buckets
- Support all S3 storage classes except S3 Express One Zone.
- Traditional S3 buckets for most use cases.
- Regional scope with cross-region replication available.

### Directory Buckets (S3 Express One Zone)
- Only allow S3 Express One Zone storage class.
- Purpose-built for high-performance, low-latency workloads.
- Single Availability Zone storage.

### Vector Buckets (2025)
- Optimized specifically for vector storage and retrieval.
- Native support for storing and querying vector embeddings.
- Distinct bucket type separate from general purpose and directory buckets.

## Storage Classes

### S3 Standard
- Most cost-effective for frequently accessed data.
- 99.999999999% (11 nines) durability.
- 99.99% availability SLA.
- Replicated across at least 3 Availability Zones.

### S3 Intelligent-Tiering
- Automatically moves data between tiers based on access patterns.
- No retrieval fees (unlike Standard-IA and One Zone-IA).
- Moves data to infrequent access tier after 30 days of no access.
- Automatically moves back to frequent tier when accessed.
- Small monthly monitoring fee per object.
- Objects must be larger than 128 KB.

### S3 Standard-IA (Infrequent Access)
- Lower storage cost, higher retrieval cost.
- For data accessed less frequently but requires rapid access when needed.
- 99.9% availability SLA.
- Replicated across at least 3 AZs.

### S3 One Zone-IA
- Lower cost than Standard-IA (single AZ storage).
- 99.5% availability SLA (lower than Standard-IA).
- Does not replicate across multiple AZs.
- Good for recreatable data or secondary backup copies.

### S3 Express One Zone (2025)
- High-performance storage class for latency-sensitive applications.
- Consistent single-digit millisecond data access.
- Up to 10x faster than S3 Standard.
- Request costs up to 80% lower than S3 Standard.
- Directory buckets support up to 2 million requests per second.
- Single AZ deployment (not replicated).
- **Important**: Can only be used with directory buckets, not general purpose buckets.

### S3 Glacier Storage Classes
- S3 Glacier Instant Retrieval: milliseconds retrieval, 90-day minimum.
- S3 Glacier Flexible Retrieval: minutes to hours, 90-day minimum.
- S3 Glacier Deep Archive: 12-48 hours retrieval, 180-day minimum.

### Deprecated
- Reduced Redundancy Storage (RRS): No longer recommended by AWS.

## Security

- Bucket Policies
  - Access Controls within specific JSON.
  - JSON policies
  - Controls access to data in associated bucket.
  - Policy conditions can make conditions very specific.
  - Added granularity to buckets access.

- Access Control Lists
  - Control access for users outside own AWS account, such us public access.
  - Not as granular as bucket policies.
  - Permissions can be broad in access, e.g list objects or write objects.

- Data Encryption
  - Server-side and client-side encryptions.
  - SSE-S3
  - SSE-KMS
  - SSE-C
  - CSE-C
  - SSL is supported.

## Data Management

- Versioning
  - Allow multiple versions of the same object to exist.
  - Recover accidental deletion or malicious activity.
  - Not enabled by default
  - Once enabled, cannot be disabled, only suspended.

- Lifecycle rules
  - Automatic method of managing lifecycle of data.
  - Specific criteria to move automatically move data between storage classes.


## Use cases

- Data backup
- Statick content & websites
- Large Data Sets
  - Computational
  - Scientific
  - Mathematical
- Service Integration
  - EBS: snapshot backup stored in S3
  - AWS CloudTrail: Log files are sent to pre-configured S3 buckets
  - Amazon Cloudfront: Cloudfront origin within a distribution

# S3 Cross-Region Replication

S3 Cross-Region Replication (CRR) is used to copy objects across Amazon S3 buckets in different AWS Regions. CRR can help you do the following:

- Meet compliance requirements — Although Amazon S3 stores your data across multiple geographically distant Availability Zones by default, compliance requirements might dictate that you store data at even greater distances.
- Minimize latency — If your customers are in two geographic locations, you can minimize latency in accessing objects by maintaining object copies in AWS Regions that are geographically closer to your users.
- Increase operational efficiency — If you have compute clusters in two different AWS Regions that analyze the same set of objects, you might choose to maintain object copies in those Regions.


- S3 is not a preferred AWS storage service for supporting hybrid networks for this scenario
- It's highly scalable, but it would not be able to handle the integration needed for the on-premises document management system.
- S3 IA is not an archival storage option

## Amazon S3 Vectors (2025)

Generally available December 2025 - first cloud object storage with native vector support.

### Key Features

- **Scale**: Support for up to 2 billion vectors per index (40x preview capacity).
- **Total capacity**: Up to 20 trillion vectors per bucket.
- **Performance**: 100ms query latencies with support for up to 1 billion vectors per index.
- **Speed improvement**: 2-3x faster frequent-query performance compared to preview.
- **Cost savings**: Reduces costs by up to 90% while maintaining sub-second query performance.

### Technical Capabilities

- New vector bucket type optimized for durable, low-cost vector storage.
- Vector indexes with dedicated APIs to store, access, and query vectors.
- No infrastructure provisioning required.
- Support for up to 50 metadata keys per vector.
- Up to 10 metadata keys can be marked as non-filterable.
- Filter query results based on specific attributes.

### Integration with AWS Services

- **Amazon Bedrock Knowledge Bases**: Lower cost of Retrieval Augmented Generation (RAG).
- Seamless integration for generative AI applications.
- Works with foundation models for embedding generation.

### Use Cases

- **Retrieval Augmented Generation (RAG)**: Cost-effective vector storage for grounding LLM responses.
- **Semantic search**: Find similar documents, images, or content.
- **Recommendation systems**: Store user/item embeddings for recommendations.
- **AI/ML applications**: Store and query model embeddings at scale.

### Availability (2025)

Available in 14 AWS Regions including US East, US West, Europe, and Asia Pacific regions.

### Important Notes

- Vector buckets are a distinct bucket type (separate from general purpose and directory buckets).
- Cannot use traditional S3 storage classes with vector buckets.
- Purpose-built for vector workloads only.

## Amazon S3 Transfer Acceleration

- Enables fast, easy, and secure transfers of files over long distances between your client and an S3 bucket.
- Takes advantage of Amazon CloudFront's globally distributed edge locations.
- You might want to use Transfer Acceleration on a bucket for various reasons, including the following:
  - You have customers that upload to a centralized bucket from all over the world.
  - You transfer gigabytes to terabytes of data on a regular basis across continents.
  - You are unable to utilize all of your available bandwidth over the Internet when uploading to Amazon S3.
- You can enable Transfer Acceleration on a bucket in any of the following ways:
- Use the Amazon S3 console.
- Use the REST API PUT Bucket accelerate operation.
- Use the AWS CLI and AWS SDKs:

  - s3-accelerate.amazonaws.com – to access an acceleration-enabled bucket.
  - s3-accelerate.dualstack.amazonaws.com – to access an acceleration-enabled bucket over IPv6. Amazon S3 dual-stack endpoints support requests to S3 buckets over IPv6 and IPv4.
- Amazon S3 is not a POSIX-compliant storage.
- Although you can store structured and unstructured data, there is a delay of up to 15 minutes in Cross-Region Replication. 
- Even if you transition the objects from S3 One Zone-IA in less than 30 days, you are charged for the full 30 days. This option is the most costly.
- Amazon S3 can only accept data using HTTP requests, and the data sent by IoT may be different. For ingesting the data, Amazon Kinesis should be the first one to accept, process it, and store to Amazon S3.